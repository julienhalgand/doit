webpackJsonp([0],{14:function(t,e,i){var s=i(5)(i(18),i(21),null,null,null);t.exports=s.exports},15:function(t,e,i){"use strict";e.a={hostname:"http://"+window.location.hostname+":4000"}},18:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),n=i(15);e.default={data:function(){return{list:{title:"",tasks:[]},newTask:"",filter:"all",editing:null,holdTodo:"",spinner:!0}},created:function(){var t=this;this.$http.get(n.a.hostname+"/api/lists/"+this.$route.params.id).then(function(e){t.spinner=!1,t.list=e.body})},methods:{addTodo:function(){var t=this;this.newTask.length>0&&(this.$http.post(n.a.hostname+"/api/tasks",{description:this.newTask,listId:parseInt(this.$route.params.id),completed:!1}).then(function(e){t.list.tasks.push(e.body)}),this.newTask="")},completeTodo:function(t){this.$http.put(n.a.hostname+"/api/tasks/"+t.id,t)},editTodo:function(t){this.editing=t,this.holdTodo=t.description},editList:function(){this.editing=this.list,this.holdTodo=this.list.title},doneEdit:function(t){t===this.editing&&this.$http.put(n.a.hostname+"/api/tasks/"+t.id,t),this.editing=null},cancelEdit:function(){this.editing.description=this.holdTodo,this.editing=null},doneEditList:function(t){this.editing=null,this.$http.put(n.a.hostname+"/api/lists/"+this.list.id,{title:this.list.title})},cancelEditList:function(){this.editing.title=this.holdTodo,this.editing=null},deleteTodo:function(t){var e=this;this.$http.delete(n.a.hostname+"/api/tasks/"+t.id).then(function(i){e.list.tasks=e.list.tasks.filter(function(e){return e!==t})})},deleteCompleted:function(){this.list.tasks=this.list.tasks.filter(function(t){return!t.completed})}},computed:{allDone:{get:function(){return 0===this.remaining},set:function(t){var e=this;this.list.tasks.forEach(function(i){i.completed=t,e.$http.put(n.a.hostname+"/api/tasks/"+i.id,i)})}},remaining:function(){return this.list.tasks.filter(function(t){return!t.completed}).length},doneTodo:function(){return this.list.tasks.filter(function(t){return t.completed}).length},filteredTodos:function(){return"todo"===this.filter?this.list.tasks.filter(function(t){return!t.completed}):"done"===this.filter?this.list.tasks.filter(function(t){return t.completed}):this.list.tasks},hasTodo:function(){return this.list.tasks.length}},directives:{focus:function(t,e){e&&s.a.nextTick(function(e){t.focus()})}}}},21:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[t.editing===t.list?i("input",{directives:[{name:"model",rawName:"v-model",value:t.list.title,expression:"list.title"},{name:"focus",rawName:"v-focus",value:t.list===t.editing,expression:"list === editing"}],staticClass:"edit",attrs:{type:"text"},domProps:{value:t.list.title},on:{keyup:[function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.doneEditList()},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27))return null;t.cancelEditList(e)}],input:function(e){e.target.composing||(t.list.title=e.target.value)}}}):i("h1",{class:{editing:t.list===t.editing},on:{dblclick:function(e){t.editList()}}},[t._v(t._s(t.list.title))]),t._v(" "),i("section",{staticClass:"todoapp"},[i("footer",{directives:[{name:"show",rawName:"v-show",value:t.hasTodo,expression:"hasTodo"}],staticClass:"footer"},[i("span",{staticClass:"todo-count"},[i("strong",[t._v(t._s(t.remaining))]),t._v(" tâches à faire\n      ")]),t._v(" "),i("ul",{staticClass:"filters"},[i("li",[i("a",{class:{selected:"all"===t.filter},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.filter="all"}}},[t._v("Toutes")])]),t._v(" "),i("li",[i("a",{class:{selected:"todo"===t.filter},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.filter="todo"}}},[t._v("À faire")])]),t._v(" "),i("li",[i("a",{class:{selected:"done"===t.filter},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.filter="done"}}},[t._v("Faites")])])]),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"clear-completed",on:{click:function(e){e.preventDefault(),t.deleteCompleted(e)}}},[t._v("Supprimer les tâches terminées")])]),t._v(" "),i("header",{staticClass:"header"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask,expression:"newTask"}],staticClass:"new-todo",attrs:{type:"text",placeholder:"Ajouter une tâche"},domProps:{value:t.newTask},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.addTodo(e)},input:function(e){e.target.composing||(t.newTask=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"main"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.allDone,expression:"allDone"}],staticClass:"toggle-all",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.allDone)?t._i(t.allDone,null)>-1:t.allDone},on:{__c:function(e){var i=t.allDone,s=e.target,n=!!s.checked;if(Array.isArray(i)){var o=t._i(i,null);n?o<0&&(t.allDone=i.concat(null)):o>-1&&(t.allDone=i.slice(0,o).concat(i.slice(o+1)))}else t.allDone=n}}}),t._v(" "),i("ul",{staticClass:"todo-list"},t._l(t.filteredTodos,function(e){return i("li",{staticClass:"todo",class:{completed:e.completed,editing:e===t.editing}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.completed,expression:"todo.completed"}],staticClass:"toggle",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.completed)?t._i(e.completed,null)>-1:e.completed},on:{click:function(i){t.completeTodo(e)},__c:function(i){var s=e.completed,n=i.target,o=!!n.checked;if(Array.isArray(s)){var l=t._i(s,null);o?l<0&&(e.completed=s.concat(null)):l>-1&&(e.completed=s.slice(0,l).concat(s.slice(l+1)))}else e.completed=o}}}),t._v(" "),i("div",{staticClass:"view"},[i("label",{on:{dblclick:function(i){t.editTodo(e)}}},[t._v(t._s(e.description))]),t._v(" "),i("button",{staticClass:"destroy",on:{click:function(i){i.preventDefault(),t.deleteTodo(e)}}})]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"todo.description"},{name:"focus",rawName:"v-focus",value:e===t.editing,expression:"todo === editing"}],staticClass:"edit",attrs:{type:"text"},domProps:{value:e.description},on:{keyup:[function(i){if(!("button"in i)&&t._k(i.keyCode,"enter",13))return null;t.doneEdit(e)},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27))return null;t.cancelEdit(e)}],blur:t.doneEdit,input:function(t){t.target.composing||(e.description=t.target.value)}}})])}))]),t._v(" "),i("footer",{directives:[{name:"show",rawName:"v-show",value:t.hasTodo,expression:"hasTodo"}],staticClass:"footer"},[i("span",{staticClass:"todo-count"},[i("strong",[t._v(t._s(t.remaining))]),t._v(" tâches à faire\n      ")]),t._v(" "),i("ul",{staticClass:"filters"},[i("li",[i("a",{class:{selected:"all"===t.filter},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.filter="all"}}},[t._v("Toutes")])]),t._v(" "),i("li",[i("a",{class:{selected:"todo"===t.filter},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.filter="todo"}}},[t._v("À faire")])]),t._v(" "),i("li",[i("a",{class:{selected:"done"===t.filter},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.filter="done"}}},[t._v("Faites")])])]),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"clear-completed",on:{click:function(e){e.preventDefault(),t.deleteCompleted(e)}}},[t._v("Supprimer les tâches terminées")])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.spinner,expression:"spinner"}],staticClass:"spinner"},[i("div",{staticClass:"bounce1"}),t._v(" "),i("div",{staticClass:"bounce2"}),t._v(" "),i("div",{staticClass:"bounce3"})])])},staticRenderFns:[]}}});
//# sourceMappingURL=0.4666cded4d3be9d61b07.js.map